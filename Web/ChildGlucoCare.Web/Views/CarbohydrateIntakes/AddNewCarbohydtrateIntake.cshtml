@model ChildGlucoCare.Web.ViewModels.CarbohydtrateIntakes.AddNewCarbohydtrateIntakeViewModel
@using ChildGlucoCare.Data.Models.Enums
@{ this.ViewData["Title"] = "Add  new Carbohydrate intake";
}


<form method="post" class="col-md-4 offset-md-3"
      enctype="multipart/form-data">
    <h1>@this.ViewData["Title"]</h1>
    <div asp-validation-summary="All" class="text-danger"></div>
    <div class="form-group">
        <label asp-for="Date" class="col-md-6 control-label"></label>
        <input asp-for="Date" class="form-control" />
        <span asp-validation-for="Date" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="AddedByUser" class="col-md-6 control-label"></label>
        <input asp-for="AddedByUser" class="form-control" />
        <span asp-validation-for="AddedByUser" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="MealType" class="col-md-6 control-label"></label>
        <div>
            <select asp-for="MealType" asp-items="Html.GetEnumSelectList<MealType>()" class="col-md-6 control-label">
                <option selected="selected" value="">Please select</option>
            </select>
            <span asp-validation-for="MealType" class="text-danger" />
        </div>
        <div id="FoodsContainer">
            <label asp-for="Foods"></label>
            <a class="btn btn-primary" onclick="AddAnotherFood()">+</a>
        </div>
        <hr>
        <input type="submit" class="btn btn-primary" />
</form>

@section Scripts {
    <script>
        var foodIndex = 0;
        function AddAnotherFood() {
            $("#FoodsContainer").
                append("<div class='form-control-sm'>Food: <input type='text' name='Foods[" + foodIndex + "].FoodName' /> Amount: <input type='text' name='Foods[" + foodIndex + "].Amount' /></div>");
            foodIndex++;
        }
    </script>
}

